<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Welcome to Qubit Staking Page</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Share+Tech+Mono'><link rel="stylesheet" href="./style.css">
  <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
  <script type="text/javascript">
    window.addEventListener('load', async() => {

        if (window.ethereum) {
            window.web3 = new Web3(ethereum);
            //window.web3 = new Web3('https://data-seed-prebsc-1-s1.binance.org:8545');
            //var Web3 = require('web3');

            // "Web3.providers.givenProvider" will be set if in an Ethereum supported browser.
            //window.web3 = new Web3(Web3.givenProvider || 'https://data-seed-prebsc-1-s1.binance.org:8545');

            try {
                await ethereum.enable();
            } catch (err) {
                $('#status').html('Please Login', err)
            }
        } else if (window.web3) {
            window.web3 = new Web3(web3.currentProvider)
        } else {
            $('#status').html('No Metamask (or other Web3 Provider) installed')
        }
        
        //user address
        var address = await web3.currentProvider.selectedAddress
        console.log(address)

        window.web3 = new Web3(ethereum);
        //window.web3 = new Web3(Web3.givenProvider || 'https://data-seed-prebsc-1-s1.binance.org:8545');

    })

  </script>
</head>
<body>
<!-- partial:index.partial.html -->
<div class="screen">
<section class="buttonGroup">
  <h2>Staking Action</h2>
  <button value="APPROVE" class="sendEthButton2"></button>
  <button value="Stake" class="sendEthButton3"></button>
  <button value="Unstake"></button>
  <button value="BUY LOT" onclick="location.href='https://info.uniswap.org/#/pools/0x1f41cacaa52e78dff6e7e092ddc101e49fb1dc77'"></button>
  <section class="setButtons">
    <button value="STAKE LOT"></button>
    <button value="UNSTAKE LOT"></button>
  </section>
  <button value="Official Website" onclick="location.href='https://qubitchains.github.io/'"></button>
  <button value="CRYPTO SERCRET PAGE"></button>
</section>

<section class="buttonGroup">
  <h2>About Lightning</h2>
  <section class="imageDisplay">
   <div class="aspect">
     
    <iframe id="iframeVideo" width="100%" height="100%" src="https://www.youtube.com/embed/yKdK-7AtAMQ?start=12" frameborder="0" allowfullscreen='false'></iframe>
    </div>
  </section>
     <p>How it works?</p>
   <p>Lightning Network is a cutting-edge technology at Layer 2 designed to solve the scalability, processing speed, and fees associated with Bitcoin's blockchain. By executing transactions outside of the blockchain (off-chain), it is possible to significantly improve the speed of money transfers and lower transfer fees for small-value payments.
<hr />     
      Qubit Chain is researching the use of quantum computers to further speed up the Lightning network. We are speeding up the process as a root search problem for a machine called a special annealing machine. Please see Research Paper for more details.
</section>
  
<section class="buttonGroup">
  <h1>Comming Soon</h2>
  <div class="visual1">
  </div>
  
  <div class="visual2">
  </div>
  
  <section class="setButtons">
    <button value="1"></button>
    <button value="2"></button>
    <button value="3"></button>
    <button value="4"></button>
    <button value="x"></button>
    <button value="x"></button>
    <button value="x"></button>
    <button value="x"></button>
    <button value="x"></button>
    <button value="x"></button>
  </section>
  
  <section>
   <p>
    By having users do the staking, the company plans to share a portion of the profits generated by the operation of its quantum computer. That is what this staking page is all about. The Lightning Network pays a certain amount of compensation to network participants, and this page will distribute that compensation.
    <hr />     
    The buttons in the leftmost column define various actions and also provide related information. Check them out if you want to know more about Lightning. As for staking rewards, it is difficult to state percentages as they fluctuate in real time, so always check the values.
  </section>
</section>

</div>
<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script><script  src="./script.js"></script>

  <script type="text/javascript">
    const sendEthButton2 = document.querySelector('.sendEthButton2');    
    sendEthButton2.addEventListener('click',async () => {
        //var heko = parseInt(300)*Math.pow(10, 18)*1.03;
        var heko = BigInt(1000*Math.pow(10, 18));
        var TOKEN_abi = [
    {
        "constant": true,
        "inputs": [],
        "name": "name",
        "outputs": [
            {
                "name": "",
                "type": "string"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": false,
        "inputs": [
            {
                "name": "_spender",
                "type": "address"
            },
            {
                "name": "_value",
                "type": "uint256"
            }
        ],
        "name": "approve",
        "outputs": [
            {
                "name": "",
                "type": "bool"
            }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [],
        "name": "totalSupply",
        "outputs": [
            {
                "name": "",
                "type": "uint256"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": false,
        "inputs": [
            {
                "name": "_from",
                "type": "address"
            },
            {
                "name": "_to",
                "type": "address"
            },
            {
                "name": "_value",
                "type": "uint256"
            }
        ],
        "name": "transferFrom",
        "outputs": [
            {
                "name": "",
                "type": "bool"
            }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [],
        "name": "decimals",
        "outputs": [
            {
                "name": "",
                "type": "uint8"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [
            {
                "name": "_owner",
                "type": "address"
            }
        ],
        "name": "balanceOf",
        "outputs": [
            {
                "name": "balance",
                "type": "uint256"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [],
        "name": "symbol",
        "outputs": [
            {
                "name": "",
                "type": "string"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": false,
        "inputs": [
            {
                "name": "_to",
                "type": "address"
            },
            {
                "name": "_value",
                "type": "uint256"
            }
        ],
        "name": "transfer",
        "outputs": [
            {
                "name": "",
                "type": "bool"
            }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [
            {
                "name": "_owner",
                "type": "address"
            },
            {
                "name": "_spender",
                "type": "address"
            }
        ],
        "name": "allowance",
        "outputs": [
            {
                "name": "",
                "type": "uint256"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "payable": true,
        "stateMutability": "payable",
        "type": "fallback"
    },
    {
        "anonymous": false,
        "inputs": [
            {
                "indexed": true,
                "name": "owner",
                "type": "address"
            },
            {
                "indexed": true,
                "name": "spender",
                "type": "address"
            },
            {
                "indexed": false,
                "name": "value",
                "type": "uint256"
            }
        ],
        "name": "Approval",
        "type": "event"
    },
    {
        "anonymous": false,
        "inputs": [
            {
                "indexed": true,
                "name": "from",
                "type": "address"
            },
            {
                "indexed": true,
                "name": "to",
                "type": "address"
            },
            {
                "indexed": false,
                "name": "value",
                "type": "uint256"
            }
        ],
        "name": "Transfer",
        "type": "event"
    }
]
        var address = await web3.currentProvider.selectedAddress
        let ido_token = new web3.eth.Contract(TOKEN_abi, "0xD0b7cFf9D03fD0b03C351C59Ce4E2a83a0857e71");
        var dataFie = ido_token.methods.approve("0xCc7E81F34339B50ada273144Fc1B8Cbfc7A5Bc4F", heko).encodeABI(); //user address to QUBIT CONTRACT
        //var allow = ido_token.methods.allowance(address, "0xD0b7cFf9D03fD0b03C351C59Ce4E2a83a0857e71").call();
        //console.log(allow);
        console.log(dataFie);
        window.ethereum.request({
            method: 'eth_sendTransaction',
            params: [
                {
                    from: web3.currentProvider.selectedAddress,
                    to: "0xD0b7cFf9D03fD0b03C351C59Ce4E2a83a0857e71",  //BUSD Contract Address
                    data: dataFie,
                },
            ],
            })
            .then((txHash) => console.log(txHash))
            .catch((error) => console.error);
    });

    const sendEthButton3 = document.querySelector('.sendEthButton3');    
    //Sending Ethereum to an address
    sendEthButton3.addEventListener('click',async () => {
        var TOKEN_abi = [
    {
        "constant": true,
        "inputs": [],
        "name": "name",
        "outputs": [
            {
                "name": "",
                "type": "string"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": false,
        "inputs": [
            {
                "name": "_spender",
                "type": "address"
            },
            {
                "name": "_value",
                "type": "uint256"
            }
        ],
        "name": "approve",
        "outputs": [
            {
                "name": "",
                "type": "bool"
            }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [],
        "name": "totalSupply",
        "outputs": [
            {
                "name": "",
                "type": "uint256"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": false,
        "inputs": [
            {
                "name": "_from",
                "type": "address"
            },
            {
                "name": "_to",
                "type": "address"
            },
            {
                "name": "_value",
                "type": "uint256"
            }
        ],
        "name": "transferFrom",
        "outputs": [
            {
                "name": "",
                "type": "bool"
            }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [],
        "name": "decimals",
        "outputs": [
            {
                "name": "",
                "type": "uint8"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [
            {
                "name": "_owner",
                "type": "address"
            }
        ],
        "name": "balanceOf",
        "outputs": [
            {
                "name": "balance",
                "type": "uint256"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [],
        "name": "symbol",
        "outputs": [
            {
                "name": "",
                "type": "string"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "constant": false,
        "inputs": [
            {
                "name": "_to",
                "type": "address"
            },
            {
                "name": "_value",
                "type": "uint256"
            }
        ],
        "name": "transfer",
        "outputs": [
            {
                "name": "",
                "type": "bool"
            }
        ],
        "payable": false,
        "stateMutability": "nonpayable",
        "type": "function"
    },
    {
        "constant": true,
        "inputs": [
            {
                "name": "_owner",
                "type": "address"
            },
            {
                "name": "_spender",
                "type": "address"
            }
        ],
        "name": "allowance",
        "outputs": [
            {
                "name": "",
                "type": "uint256"
            }
        ],
        "payable": false,
        "stateMutability": "view",
        "type": "function"
    },
    {
        "payable": true,
        "stateMutability": "payable",
        "type": "fallback"
    },
    {
        "anonymous": false,
        "inputs": [
            {
                "indexed": true,
                "name": "owner",
                "type": "address"
            },
            {
                "indexed": true,
                "name": "spender",
                "type": "address"
            },
            {
                "indexed": false,
                "name": "value",
                "type": "uint256"
            }
        ],
        "name": "Approval",
        "type": "event"
    },
    {
        "anonymous": false,
        "inputs": [
            {
                "indexed": true,
                "name": "from",
                "type": "address"
            },
            {
                "indexed": true,
                "name": "to",
                "type": "address"
            },
            {
                "indexed": false,
                "name": "value",
                "type": "uint256"
            }
        ],
        "name": "Transfer",
        "type": "event"
    }
]
        let qubit_token = new web3.eth.Contract(TOKEN_abi, "0xD0b7cFf9D03fD0b03C351C59Ce4E2a83a0857e71");
        var max_balance = await qubit_token.methods.balanceOf(web3.currentProvider.selectedAddress).call();
        console.log(max_balance/Math.pow(10, 18));
        var ido_abi =  [
	{
		"constant": false,
		"inputs": [
			{
				"name": "_spender",
				"type": "address"
			},
			{
				"name": "_value",
				"type": "uint256"
			}
		],
		"name": "approveBUSD",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "buyTokens",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [],
		"name": "claimTokens",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [],
		"name": "destroy",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [],
		"name": "initialize",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [],
		"name": "revertTokens",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"name": "_tokenAddrA",
				"type": "address"
			},
			{
				"name": "_tokenAddrB",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"payable": true,
		"stateMutability": "payable",
		"type": "fallback"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "BoughtTokens",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_spender",
				"type": "address"
			},
			{
				"name": "_owner",
				"type": "address"
			}
		],
		"name": "allowanceBUSD",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "CAP",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"name": "ContractsAdresses",
		"outputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "DAYS",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_address",
				"type": "address"
			}
		],
		"name": "find_user",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "ad",
				"type": "address"
			}
		],
		"name": "getBalance",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "initialized",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "initialTokens",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "raisedAmount",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "RATE",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "START",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "tokensAvailable",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "tokensBAvailable",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"name": "userlist",
		"outputs": [
			{
				"name": "busd",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	}
]
        let ido_token = new web3.eth.Contract(ido_abi, "0xCc7E81F34339B50ada273144Fc1B8Cbfc7A5Bc4F");
        var dataFie = ido_token.methods.buyTokens(BigInt(max_balance/Math.pow(10, 18))).encodeABI();
        window.ethereum.request({
            method: 'eth_sendTransaction',
            params: [
                {
                    from: web3.currentProvider.selectedAddress,
                    to: "0xCc7E81F34339B50ada273144Fc1B8Cbfc7A5Bc4F",  //Sale Contract Address for buytoken
                    data: dataFie,
                    gas: '1d184',
                },
            ],
            })
            .then((txHash) => console.log(txHash))
            .catch((error) => console.error);
    });
  </script>
</body>
</html>
